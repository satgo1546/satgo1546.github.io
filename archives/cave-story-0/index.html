---
title: 洞窟物语游玩笔记
date: 2025-01-05
excerpt: 非常推荐喜爱ARPG的玩家游玩，不推荐平台跳跃操作技术过于高血压的玩家游玩，比如我 😾
tags:
- 进度报告
- 独立游戏
- 洞窟物语
---

<p>看到源友推荐，玩了好几天洞窟物语，真好玩。
<p>非常推荐喜爱ARPG的玩家游玩，不推荐平台跳跃操作技术过于高血压的玩家游玩，比如我 😾
<p>感觉关卡设计真的很有说法，可惜我的战斗技巧为零。

<div class=admonition>
前方95vb，<strong>剧透警告！</strong>本文包含对剧情内容的讨论，请在完全打通游戏本体之后再阅读。
</div>
<hr>
<div style="block-size: 95vb"></div>

<h2>关于隐藏结局分歧点的想法</h2>
<p>布斯特在迷宫B落下时，身上携带了推进器v0.8。
<p>如果与布斯特对话，他就会把推进器v0.8交给库特，然后因好运耗尽而死。（？）
<p>如果没有与布斯特对话，他能在绝望中靠顽强的意志力自己修好传送装置，回到村里，研发出推进器v2.0，在库特回到亚瑟的家时交给他。
<p>以上是符合逻辑的剧情部分，应该没有异议。
<p>但是，为什么拿了推进器v0.8，核心地带的牵引绳就不见了呢？
<p>牵引绳的消失或出现一定是布斯特掉坑里之后、主角团到达核心地带之前发生的。
<p>有人说是布斯特拿走的，但是这条线上布斯特已经死了，刚与他对话完就化作烟气消散了。
<p>有人说是外来生物（克苏鲁……）拿走的，但是核心地带有电脑控制的大门，在主角团到达之前完全密封。
<p>有人说是卡莉在库特失去意识时拿走了牵引绳，但是主角团开始打核心之前牵引绳就已经没了。
<p>有人说是卡莉在库特刚打开大门时就进去拿走了牵引绳，但是此时卡莉应该被散落一地的机器人吸引。
<p>而且，即使某个原因成立，又和库特拿了推进器有什么关系呢？
<p>一种说法是，如果库特在迷宫B信仰之跃成功，说明这条线上的他具有精细的处理能力，可以发现细节，从而在废机器人堆中发现有用的物品。游戏根据玩家的操作赋予主角性格，从而导向不同的结局。
<p>我不是很能接受这种说法。如果真是这样的话，应该可以做得更自然一些。比如把牵引绳放在犄角旮旯里，细心的玩家自然能找到，而不需要特意编写条件指定牵引绳是否出现。
<p>这条线路上还有更多怪事。
<p>为什么在迷宫B里信仰之跃的那个平台上有个指示起跳点的红色记号？
<p>为什么在水路里会有一间没有被水淹没的小屋，里面刚好有救活队友所需的全部资料和条件？
<p>在普通结局中进入水路的小屋，屏幕上会显示神秘的文字。</p>
<img src=zh.webp alt="04-08-08 孩子出生了。">
<p>这段文字的英译版更加含糊不清，<a href="https://forum.cavestory.org/threads/wife-bore-child-4-8-08.2071/">不仅没有把08翻成Aug，还把原来的日期格式搞坏了，导致了争议</a>。汉化版没有错，原文是这样的。</p>
<img src=ja.webp alt="04-08-08 妻から子が出た。">
<p>据称作者答疑提到这个孩子并不是游戏剧情中的孩子，而是作者自己的孩子在2004年8月8日出生。
<p>而这个水路的小屋，地图文件名是Pixel.pxm，也就是作者工作室的名字。
<p>于是一切不合理之处也开始合理地连在了一起。
<p>——因为这个房间就是游戏作者特别提供的，用来让主角改写队友命运的房间。</p>
<img src=zh0.webp alt="屏幕上显示了些什么。">
<img src=zh1.webp alt="总而言之先休息吧？">
<img src=zh2.webp alt="话说回来，我已经将我所知道的所有事情 都记录在那本笔记本里面...">
<img src=zh3.webp alt="祝你一切顺利。">
<h2>对第0面和第1面的设计分析</h2>
<img src=level0.webp alt="开始地点">
<p>可交互的道具是亮色的、动态的，亮色的主角在屏幕中央，地形是暗色的。
<p>虽然在ACT类游戏中还算常见，但是按<kbd><kbd>↓</kbd></kbd>键交互本身不是一个很自然的操作方式。对于重要的回血和存档道具，玩家可以在安全的地图中充分理解交互方式后再前进。
<p>移动具有惯性，使得跳跃难以瞄准，玩家可以在这个场景中进行基本的跳跃练习。由于惯性，玩家很容易踩空落入水中。因为此后大量关卡中出现了水，水中运动是玩家必须充分掌握的技能。底部的积水给了玩家在安全的地图中实验水中物理的方式。</p>
<img src=level1.webp alt="最初的洞窟">
<p>离开开始地点后，玩家面临向左或向右的选择，但其实向右会发现路完全被堵死了，所以只能向左。进入门时朝向不变，而画面卷动朝向玩家面向的方向。常规情况下，玩家出门时是向右的，因此先展示了这一边死路，让玩家向左前进时不必担心错过什么。
<table class=settabs>
<tr><td><img src=a0.webp alt="事故多发地"><td><p>向左前进时有多个实际为台阶的下降坡，玩家很可能因为惯性冲太多而死掉。5 HP的伤害在初始时是致命伤，促使玩家建立红色刺 = 死亡的印象，然后逐步尝试与惯性和解。
<tr><td><img src=a1.webp alt="生命胶囊"><td><p>最左侧是玩家遇到的第一个增加HP上限的道具，同样也是闪烁的。它处在三格高的地方。玩家最高也只能跳三格高，由于惯性，在没有参照物的情况下这一点不是特别明显。因此在够到的过程中玩家能对跳跃高度上限产生直观感受。
<p>HP上限增加到6，使玩家能撞到一次刺而不死。但是到了这里，玩家应已逐步适应，能一次性主动避开刺了。红色刺 = 死亡的印象可以保留，因为此后有加强的刺，无论有多少血量都是碰到即死。
<tr><td><img src=a2.webp alt="必须跨越的障碍"><td><p>底部的第一个水坑处，蝙蝠上下移动导致岸边是危险地带，但水中又无法跳高（如果在开始地点没有认识到这一点，在这里会强制习得），无法跳过障碍。其实这里岸边有一个安定点可以起跳。这里的跳跃会令玩家意识到本游戏轻飘飘的手感，一次跳跃能在空中跨过长得不可思议的距离。
<tr><td><img src=a3.webp alt="水坑另一侧"><td><p>从右下角的制枪者隐居处返回的路上还会遇到这个水坑的另一侧，强化练习长距离跳跃。这一次玩家持有了武器，可以把怪物全部消灭后再起跳，玩家得知消灭怪物可以概率获得经验值或HP回复。
<tr><td><img src=a4.webp alt="星块"><td><p>一路返回，右侧的通路上的障碍依旧存在。相比最初，玩家手上只多了一把武器，自然尝试击碎它。这个方块并不是所有武器都能击碎，因此要确保玩家知道这个方块是可以击碎的，以免之后获得更多武器后卡关。
<tr><td><img src=a5.webp alt="被凭依"><td><p>玩家会发现右上角的门睁开了眼，故击之；没有注意到的玩家则会在试图到达门时被奖励4点伤害。这说明怪物不一定是生物形态，不一定会移动，有的物件也可以被攻击。
</table>
<p>并不大的一张地图因为来回绕了一圈而得到了最大的价值发挥，在有限的空间内以温和的方式塞下了足够种类的敌人和机关，使玩家一边熟悉操作，一边熟悉这个世界的运作方式。
<h2>技术信息</h2>
<p>游戏发行包连1MB都不到，其实没有什么特别的技巧，单纯只是画质低（320×240、调色板、tilemap）、音质低（8-bit tracker音乐）罢了。
<p>因为简体中文汉化版的原始发布页面貌似已经寄了，在此上传一份：<a href=dou_sc102.zip>dou_sc102.zip</a>。
<p>因为游戏本体没有多少加密，对这个游戏的数据格式逆向已经相当完善，也催生了很多mod。
<p><a href="https://www.cavestory.org/guides/profile.txt">存档文件的格式</a>记载：Profile.dat中+0x1C为HP上限，+0x20为当前HP，均为2字节。因为不知道有无符号，我将当前HP修改为32767。然后我不小心捡到了一个HP回复道具。</p>
<img src=hp0.webp width=181 height=75>
<p>于是连忙受点伤来回血。此事在上述存档格式文档中亦有记载：
<blockquote lang=en>
<pre>Very high HP values act strangely - need confirmation on safe maximum</pre>
</blockquote>
<p>基于在这个被修改过的存档上通关的经历总结如下：
<ul>
<li>游戏通过描绘位图来渲染数字，位图素材中没有负号，因此小于0的HP被设定显示为0。
<li>考虑到显示空间，超过四位数的HP会显示为9999。对、对吗？
<img src=hp9999.webp width=199 height=86>
<li>当前HP超过HP上限时获得HP回复道具会导致HP降回上限。超限较少时会导致血条绘制溢出，超得过多则会整条消失。
<img src=hp64.webp>
<li>HP上限过大时，获得HP上限增加的道具会导致HP和HP上限降回232。（正常游玩时HP不会超过两位数。）
</ul>
<p>奇怪的代码测试覆盖率增加了……
