---
title: 关灯
date: 2024-11-28
---

关灯（Lights Out）是一款益智小游戏。游戏在一个二维网格上进行，每一个格子中有一盏灯。开始时，所有灯随机处于开或关的状态。每盏灯上的开关会同时影响 **这一盏灯** 和 **与它上下左右相邻的至多四盏灯**，使它们的开关状态切换（点亮关着的灯，或熄灭开着的灯）。游戏的目标是熄灭所有灯。

给定一个由 0 和 1 组成的矩阵 `matrix`，其中 0 代表熄灭的灯，1 代表点亮的灯。请输出一个大小相同的 0 和 1 组成的矩阵，使得按下其中所有 1 对应位置的灯的开关后，所有灯都被熄灭。

示例1：

输入：`[[1, 0, 0], [0, 0, 0], [0, 0, 0]]`
输出：`[[1, 0, 1], [0, 0, 1], [1, 1, 0]]`
解释：依次按下每个开关后所有灯的状态如下所示。

```
[1]0 0   0 1[0]  0 0 1   0 0 0   0 0 0   0 0 0
 0 0 0 → 1 0 0 → 1 0[1]→ 1 1 0 → 0 1 0 → 0 0 0
 0 0 0   0 0 0   0 0 0  [0]0 1   1[1]1   0 0 0
```

示例2：

输入：`[[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]`
输出：`[[1, 1, 1, 1], [1, 0, 0, 1], [1, 1, 1, 1]]`

示例3：

输入：`[[1, 1], [1, 0]]`
输出：`[[1, 0], [0, 0]]`

提示：

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 100`

---

本题来源于[Hackergame 2024](../../hackergame2024/)。通常的高斯消元法需要O((<var>m</var><var>n</var>)<sup>3</sup>)，但当<var>m</var>和<var>n</var>预先给出时，可通过提前打表（打表过程复杂度与高斯消元法相同）使提交的程序运行时间下降到O((<var>m</var><var>n</var>)<sup>2</sup>)。
